#
# RPM spec file for QuarkPlayer
#

%define _topdir @RPM_TOP_DIR@
%define _builddir @RPM_BUILD_DIR@
%define _rpmfilename @RPM_FILENAME@

Name:          quarkplayer
License:       GPL
Group:         Applications/Multimedia
Summary:       @QUARKPLAYER_DESCRIPTION_SUMMARY@
Version:       @QUARKPLAYER_VERSION@
Release:       1
URL:           @QUARKPLAYER_URL@
BuildRoot:     %{_tmppath}/%{name}-%{version}-build
#Source:        @QUARKPLAYER_SOURCE_PACKAGE_FILE@.tar.bz2
#BuildRequires cannot work under non-RPM based distributions like Debian
#Uncomment it under RPM based distributions
#BuildRequires: libqt4-devel

%description
@QUARKPLAYER_DESCRIPTION@

%prep
# Extract the source and go into the source directory
# This is a bit tricky: I don't want to download QuarkPlayer' source code,
# to create a .tar.bz2 and then extract it: this is useless
# Let's directly use the current source code directory
# -D : do not delete the directory before unpacking sources
# -T : do not perform default achive unpacking
# -n : set the name of build directory
%setup -D -T -n .

%build
# Build the source code
# Done by CMake
#make configure
make

%install
# Install all files into the BuildRoot
make BUILD_DIR=@BUILD_DIR@ DESTDIR=%{buildroot} install

%clean
# Clean up the hard disc after build
rm -rf %{buildroot}

%files
# Copy all the files that come with 'make install'
%attr(-,root,root) /usr/*

%changelog
* Sun Jan 4 2009 Tanguy Krotoff <tkrotoff@gmail.com>
  - First spec file
