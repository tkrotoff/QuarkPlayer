#
# RPM spec file for QuarkPlayer
#

Name:          quarkplayer
License:       GPL
Group:         Applications/Multimedia
Summary:       @QUARKPLAYER_DESCRIPTION_SUMMARY@
Version:       @QUARKPLAYER_VERSION@
Release:       1
URL:           @QUARKPLAYER_URL@
BuildRoot:     %{_tmppath}/%{name}-%{version}-build
Source:        %{name}-%{version}.tar.bz2
#BuildRequires cannot work under non-RPM based distributions like Debian
#Uncomment it under RPM based distributions
#BuildRequires: libqt4-devel

%description
@QUARKPLAYER_DESCRIPTION@

%prep
# Extract the source and go into the source directory
# This is a bit tricky: I don't want to download QuarkPlayer' source code,
# to create a .tar.bz2 and then extract it: this is useless
# Let's directly use the current source code directory
# To perform this trick, rpmbuild/BUILD is a symlink to current source code
# directory
# -D : do not delete the directory before unpacking sources
# -T : do not perform default achive unpacking
# -n : set the name of build directory
%setup -D -T -n .

%build
# Build the source code
make

%install
# Install all files into the BuildRoot
make DESTDIR=%{buildroot} install

%clean
# Clean up the hard disc after build
rm -rf %{buildroot}

%files
# Copy all the files that come with 'make install'
%attr(-,root,root) /*

%changelog
* Sun Jan 4 2009 Tanguy Krotoff <tkrotoff@gmail.com>
  - First spec file
