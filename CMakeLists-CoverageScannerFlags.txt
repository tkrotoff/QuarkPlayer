# TestCocoon configuration
# TestCocoon is a Code Coverage Measurement for C/C++ and C#
# See http://testcocoon.org/coveragescanner.html

set(COVERAGE_FLAGS "--cs-on --cs-count --cs-qt4")
if (WIN32)
	set(COVERAGE_LINKER_FLAGS "${COVERAGE_FLAGS} --cs-libgen=/MDd")
else (WIN32)
	set(COVERAGE_LINKER_FLAGS ${COVERAGE_FLAGS})
endif (WIN32)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${COVERAGE_FLAGS}")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${COVERAGE_FLAGS}")
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} ${COVERAGE_LINKER_FLAGS}")
set(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} ${COVERAGE_LINKER_FLAGS}")
set(CMAKE_STATIC_LINKER_FLAGS "${CMAKE_STATIC_LINKER_FLAGS} ${COVERAGE_LINKER_FLAGS}")

#message(STATUS "COVERAGE CFLAGS: ${CMAKE_C_FLAGS}")
#message(STATUS "COVERAGE CXXFLAGS: ${CMAKE_CXX_FLAGS}")
#message(STATUS "COVERAGE C_FLAGS_RELEASE: ${CMAKE_C_FLAGS_RELEASE}")
#message(STATUS "COVERAGE CXX_FLAGS_RELEASE: ${CMAKE_CXX_FLAGS_RELEASE}")
#message(STATUS "COVERAGE C_FLAGS_DEBUG: ${CMAKE_C_FLAGS_DEBUG}")
#message(STATUS "COVERAGE CXX_FLAGS_DEBUG: ${CMAKE_CXX_FLAGS_DEBUG}")
#message(STATUS "COVERAGE SHARED_LINKER_FLAGS: ${CMAKE_SHARED_LINKER_FLAGS}")
#message(STATUS "COVERAGE STATIC_LINKER_FLAGS: ${CMAKE_STATIC_LINKER_FLAGS}")
