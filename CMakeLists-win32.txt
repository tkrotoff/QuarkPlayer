#Default paths
set(INCLUDE_INSTALL_DIR include)
set(BIN_INSTALL_DIR ".")
set(LIB_INSTALL_DIR lib)
set(PLUGIN_INSTALL_DIR ${BIN_INSTALL_DIR}/plugins)
set(INSTALL_TARGETS_DEFAULT_ARGS
	RUNTIME DESTINATION ${BIN_INSTALL_DIR}
	LIBRARY DESTINATION ${BIN_INSTALL_DIR}
#	ARCHIVE DESTINATION ${BIN_INSTALL_DIR}
)

install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/AUTHORS DESTINATION ${BIN_INSTALL_DIR})
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/README DESTINATION ${BIN_INSTALL_DIR})
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/THANKS DESTINATION ${BIN_INSTALL_DIR})
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/COPYING DESTINATION ${BIN_INSTALL_DIR})
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/COPYING.LESSER DESTINATION ${BIN_INSTALL_DIR})
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/ChangeLog DESTINATION ${BIN_INSTALL_DIR})


#Copy Qt toolkit dll
set(QT_MIN_VERSION 4.4.0)
find_package(Qt4 REQUIRED)

if (CMAKE_BUILD_TYPE STREQUAL Debug)
	install(FILES ${QT_BINARY_DIR}/QtCored4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtGuid4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtNetworkd4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtXmld4.dll DESTINATION ${BIN_INSTALL_DIR})

	#For phonon_ds9.dll (the DirectShow backend)
	install(FILES ${QT_BINARY_DIR}/QtOpenGLd4.dll DESTINATION ${BIN_INSTALL_DIR})

	install(FILES ${QT_BINARY_DIR}/../plugins/imageformats/qjpegd4.dll DESTINATION ${BIN_INSTALL_DIR}/imageformats)
	install(FILES ${QT_BINARY_DIR}/../plugins/imageformats/qgifd4.dll DESTINATION ${BIN_INSTALL_DIR}/imageformats)
else (CMAKE_BUILD_TYPE STREQUAL Debug)
	install(FILES ${QT_BINARY_DIR}/QtCore4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtGui4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtNetwork4.dll DESTINATION ${BIN_INSTALL_DIR})
	install(FILES ${QT_BINARY_DIR}/QtXml4.dll DESTINATION ${BIN_INSTALL_DIR})

	#For phonon_ds9.dll (the DirectShow backend)
	install(FILES ${QT_BINARY_DIR}/QtOpenGL4.dll DESTINATION ${BIN_INSTALL_DIR})

	install(FILES ${QT_BINARY_DIR}/../plugins/imageformats/qjpeg4.dll DESTINATION ${BIN_INSTALL_DIR}/imageformats)
	install(FILES ${QT_BINARY_DIR}/../plugins/imageformats/qgif4.dll DESTINATION ${BIN_INSTALL_DIR}/imageformats)
endif (CMAKE_BUILD_TYPE STREQUAL Debug)

#Copy Qt toolkit translations
install(FILES ${QT_BINARY_DIR}/../translations/qt_fr.qm DESTINATION ${BIN_INSTALL_DIR}/translations)
install(FILES ${QT_BINARY_DIR}/../translations/qt_de.qm DESTINATION ${BIN_INSTALL_DIR}/translations)
install(FILES ${QT_BINARY_DIR}/../translations/qt_es.qm DESTINATION ${BIN_INSTALL_DIR}/translations)
install(FILES ${QT_BINARY_DIR}/../translations/qt_uk.qm DESTINATION ${BIN_INSTALL_DIR}/translations)

#Copy MPlayer build from SMPlayer
#Used by MPlayer Phonon backend
#SMPlayer' MPlayer build can be found at:
#http://smplayer.sourceforge.net/
#just install SMPlayer inside C:/Program Files/SMPlayer
set(MPLAYER_INSTALL_DIR "C:/Program Files/SMPlayer/mplayer")
if (EXISTS ${MPLAYER_INSTALL_DIR})
	#install(DIRECTORY ${MPLAYER_INSTALL_DIR} DESTINATION ${BIN_INSTALL_DIR})
else (EXISTS ${MPLAYER_INSTALL_DIR})
	message(STATUS "SMPlayer was not found, the MPlayer backend won't run (no MPlayer build)")
endif (EXISTS ${MPLAYER_INSTALL_DIR})
